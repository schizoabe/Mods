{
    "Changes": [
        // FRIENDSHIP BRACELET
        {
            "LogName": "Enable friendship bracelet for Alex",
            "Action": "EditData",
            "Target": "Data/Objects",
            "TargetField": [
                "{{ModID}}_FriendshipBracelet",
                "ContextTags"
            ],
            "Entries": {
                "#-2": "propose_roommate_alex"
            }
        },
        // DIALOGUE
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/Alex",
            "Entries": {
                "divorced": "{{i18n:PPAF.Alex.DialogueEdits.Aro.divorced}}",
                "breakUp": "{{i18n:PPAF.Alex.DialogueEdits.Aro.breakUp}}",
                "Mon8": "{{i18n:PPAF.Alex.DialogueEdits.Aro.Mon8}}",
                "Fri8": "{{i18n:PPAF.Alex.DialogueEdits.Aro.Fri8}}",
                "Sat10": "{{i18n:PPAF.Alex.DialogueEdits.Aro.Sat10}}",
                "fall_Thu10": "{{i18n:PPAF.Alex.DialogueEdits.Aro.fall_Thu10}}",
                "winter_Tue4": "{{i18n:PPAF.Alex.DialogueEdits.Aro.winter_Tue4}}",
                "event_box3": "{{i18n:PPAF.Alex.DialogueEdits.Aro.event_box3 |LovePortraitsHappy={{LovePortraitsHappyToken}}}}",
                "dating_Alex_memory_oneday": "{{i18n:PPAF.Alex.DialogueEdits.Aro.dating_Alex_memory_oneday |LovePortraitsHappy={{LovePortraitsHappyToken}}}}",
                "SpouseGiftJealous": "{{i18n:PPAF.Alex.DialogueEdits.Aro.SpouseGiftJealous}}",
                "SpouseStardrop": "{{i18n:PPAF.Alex.DialogueEdits.Aro.SpouseStardrop |LovePortraitsHappy={{LovePortraitsHappyToken}}}}",
                "AcceptBouquet": "{{i18n:PPAF.Alex.DialogueEdits.Aro.AcceptBouquet.{{Random:1{{LoveLettersToken}},2}} |LovePortraitsHappy={{LovePortraitsHappyToken}}}}"
            }
        },
        // PLATONIC PARTNER DIALOGUE
        {
            "LogName": "Alex pendant and bracelet engagement dialogue",
            "Action": "EditData",
            "Target": "Data/EngagementDialogue",
            "Entries": {
                "Alex0": "{{i18n:PPAF.Alex.EngagementDialogue.Aro.Alex0 |LovePortraitsHappy={{LovePortraitsHappyToken}}}}",
                "AlexRoommate0": "{{i18n:PPAF.Alex.EngagementDialogue.Aro.Alex0 |LovePortraitsHappy={{LovePortraitsHappyToken}}}}",
                "Alex1": "{{i18n:PPAF.Alex.EngagementDialogue.Aro.Alex1}}",
                "AlexRoommate1": "{{i18n:PPAF.Alex.EngagementDialogue.Aro.Alex1}}"
            }
        },
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/MarriageDialogueAlex",
            "Entries": {
                "Good_0": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.Good_0 |LovePortraitsNeutral={{LovePortraitsNeutralToken}}}}",
                "Good_1": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.Good_1 |LovePortraitsHappy={{LovePortraitsHappyToken}}}}",
                "winter_1": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.winter_1}}",
                "Rainy_Day_4": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.Rainy_Day_4}}",
                "Rainy_Night_2": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.Rainy_Night_2}}",
                "Indoor_Day_0": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.Indoor_Day_0}}",
                "Indoor_Day_1": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.Indoor_Day_1}}",
                "Indoor_Day_3": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.Indoor_Day_3}}",
                "Indoor_Night_1": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.Indoor_Night_1}}",
                "Outdoor_3": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.Outdoor_3}}",
                "OneKid_3": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.OneKid_3}}",
                "TwoKids_3": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.TwoKids_3}}"
            }
        },
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/MarriageDialogue",
            "Entries": {
                "Indoor_Night_Alex": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.Indoor_Night_Alex}}",
                "spouseRoom_Alex": "{{i18n:PPAF.Alex.PartnerDialogue.Aro.spouseRoom_Alex}}"
            }
        },
        {
            "LogName": "Alex aro ace marriage Winter Star dialogue edit",
            "Action": "EditData",
            "Target": "Data/Festivals/winter25",
            "Entries":
            {
                "Alex_spouse": "{{i18n:PPAF.Alex.PartnerDialogue.AroAce.WinterStar.Alex_spouse |LovePortraitsHappy={{LovePortraitsHappyToken}}}}"
            },
            "When": {
                "PPAF.Core/ConfigValue:AlexRelationshipType": "FullyPlatonic"
            }
        },
        // OTHER CHARACTERS' DIALOGUE
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/George",
            "Entries": {
                "Wed_roommate_Alex": "{{i18n:PPAF.Alex.OtherDialogue.Aro.George.Wed_inlaw_Alex |RelationshipLabel={{PPAF.Core/ConfigValue:RelationshipLabel}}}}",
                "Wed10_roommate_Alex": "{{i18n:PPAF.Alex.OtherDialogue.Aro.George.Wed10_inlaw_Alex}}",
                "Wed_inlaw_Alex": "{{i18n:PPAF.Alex.OtherDialogue.Aro.George.Wed_inlaw_Alex |RelationshipLabel={{PPAF.Core/ConfigValue:RelationshipLabel}}}}",
                "Wed10_inlaw_Alex": "{{i18n:PPAF.Alex.OtherDialogue.Aro.George.Wed10_inlaw_Alex}}",
                "married_Alex": "{{i18n:PPAF.Alex.OtherDialogue.Aro.George.married_Alex |RelationshipLabel={{PPAF.Core/ConfigValue:RelationshipLabel}}}}"
            }
        },
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/Pam",
            "Entries": {
                "married_Alex": "{{i18n:PPAF.Alex.OtherDialogue.Aro.Pam.married_Alex}}"
            }
        },
        // STRINGS
        {
            "LogName": "Alex pendant and bracelet proposal acceptance",
            "Action": "EditData",
            "Target": "Strings/StringsFromCSFiles",
            "Entries": {
                "Alex_Engaged": "{{i18n:PPAF.Alex.Strings.Aro.Alex_Engaged |LovePortraitsHappy={{LovePortraitsHappyToken}} |RelationshipLabel={{PPAF.Core/ConfigValue:RelationshipLabel}}}}",
                "Alex_EngagedRoommate": "{{i18n:PPAF.Alex.Strings.Aro.Alex_EngagedRoommate |LovePortraitsHappy={{LovePortraitsHappyToken}} |RelationshipLabel={{PPAF.Core/ConfigValue:RelationshipLabel}}}}"
            }
        },
        {
            "LogName": "Alex post-ceremony line",
            "Action": "EditData",
            "Target": "Strings/StringsFromCSFiles",
            "Entries": {
                "Game1.cs.2782": "{{i18n:PPAF.Alex.Strings.Aro.Game1.cs.2782}}"
            },
            "When": {
                "Spouse": "Alex"
            }
        },
        {
            "LogName": "Alex terms of endearment and other misc lines, no poly",
            "Action": "EditData",
            "Target": "Strings/StringsFromCSFiles",
            "Entries": {
                "NPC.cs.4507": "@",
                "NPC.cs.4508": "@",
                "NPC.cs.4509": "@",
                "NPC.cs.4510": "@",
                "NPC.cs.4511": "@",
                "NPC.cs.4517": "{{i18n:PPAF.Alex.Strings.Aro.Nickname.1}}",
                "NPC.cs.4518": "{{i18n:PPAF.Alex.Strings.Aro.Nickname.1}}",
                "NPC.cs.4519": "{{i18n:PPAF.Alex.Strings.Aro.Nickname.2}}",
                "NPC.cs.4522": "{{i18n:PPAF.Alex.Strings.Aro.Nickname.2}}",
                "NPC.cs.4523": "{{i18n:PPAF.Alex.Strings.Aro.Nickname.3}}",
                "Event.cs.1736": "$q -1 null#{{i18n:PPAF.Alex.Strings.Aro.Event.cs.1736}}#$r -1 0 danceAsk#{{i18n:PPAF.GenericTweaks.Dialogue.Strings.Event.cs.1736.2}}#$r -1 0 null#{{i18n:PPAF.GenericTweaks.Dialogue.Strings.Event.cs.1736.3}}",
                "NPC.cs.4425": "{{i18n:PPAF.Shared.Strings.Aro.NPC.cs.4425 |RelationshipLabel={{PPAF.Core/ConfigValue:RelationshipLabel}}}}"
            },
            "When": {
                "SpouseOrRoommateToken": "Alex",
                "HasMod |contains=aedenthorn.MultipleSpouses, aedenthorn.FreeLove, ApryllForever.PolyamorySweetLove, EnderTedi.Polyamory": false
            }
        },
        {
            "LogName": "Alex terms of endearment and other misc lines, poly with CFD",
            "Action": "EditData",
            "Target": "Characters/Dialogue/Alex",
            "Entries": {
                "NPC.cs.4507": "@",
                "NPC.cs.4508": "@",
                "NPC.cs.4509": "@",
                "NPC.cs.4510": "@",
                "NPC.cs.4511": "@",
                "NPC.cs.4517": "{{i18n:PPAF.Alex.Strings.Aro.Nickname.1}}",
                "NPC.cs.4518": "{{i18n:PPAF.Alex.Strings.Aro.Nickname.1}}",
                "NPC.cs.4519": "{{i18n:PPAF.Alex.Strings.Aro.Nickname.2}}",
                "NPC.cs.4522": "{{i18n:PPAF.Alex.Strings.Aro.Nickname.2}}",
                "NPC.cs.4523": "{{i18n:PPAF.Alex.Strings.Aro.Nickname.3}}",
                "Event.cs.1736": "$q -1 null#{{i18n:PPAF.Alex.Strings.Aro.Event.cs.1736}}#$r -1 0 danceAsk#{{i18n:PPAF.GenericTweaks.Dialogue.Strings.Event.cs.1736.2}}#$r -1 0 null#{{i18n:PPAF.GenericTweaks.Dialogue.Strings.Event.cs.1736.3}}",
                "NPC.cs.4425": "{{i18n:PPAF.Shared.Strings.Aro.NPC.cs.4425 |RelationshipLabel={{PPAF.Core/ConfigValue:RelationshipLabel}}}}"
            },
            "When": {
                "SpouseOrRoommateToken": "Alex",
                "HasMod |contains=aedenthorn.CustomFixedDialogue, datamancer.CustomFixedDialogue": true
            }
        },
        // PENDANT REJECTION
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/Alex",
            "Entries": {
                "RejectMermaidPendant_AlreadyAccepted": "{{i18n:PPAF.Alex.PendantRejections.{{Random:1,2}}}}"
            }
        },
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/Evelyn, Characters/Dialogue/George",
            "Entries": {
                "RejectMermaidPendant_PlayerWithSomeoneElse": "{{i18n:PPAF.BraceletPendantRejections.{{TargetWithoutPath}}.{{Random:1,2}}}}"
            },
            "When": {
                "SpouseOrRoommateToken": "Alex"
            }
        },
        // EVENTS
        {
            "Action": "EditData",
            "Target": "Data/Events/Saloon",
            "Entries": {
                "911526/f Alex 2500/t 1900 2200/n joshMessage": "50s/-1000 -1000/farmer 5 5 1 Alex 9 5 3 Emily 9 17 2/skippable/showFrame 117/showFrame Alex 39/positionOffset farmer 12 8/positionOffset Alex -12 0/viewport 7 4 true/pause 1000/speak Alex \"{{i18n:PPAF.Alex.Events.Aro.10Heart.0}}\"/pause 1000/emote Alex 40/speak Alex \"{{i18n:PPAF.Alex.Events.Aro.10Heart.1}}\"/warp Emily 11 11 true/playSound woodyStep/move Emily 0 -1 0/doAction 11 9/move Emily 0 -3 3/move Emily -4 0 0/move Emily 0 -1 0/speak Emily \"{{i18n:PPAF.Alex.Events.Aro.10Heart.2}}\"/playSound woodyHit/specificTemporarySprite joshDinner/speak Alex \"{{i18n:PPAF.Alex.Events.Aro.10Heart.3}}\"/move Emily 4 0 2/move Emily 0 5 1/move Emily 11 0 1 true/stopMusic/speak Alex \"{{i18n:PPAF.Alex.Events.Aro.10Heart.4}}\"/playMusic musicboxsong/pause 600/speak Alex \"{{i18n:PPAF.Alex.Events.Aro.10Heart.5}}\"/pause 800/speak Alex \"{{i18n:PPAF.Alex.Events.Aro.10Heart.6 |LovePortraitsHappy={{LovePortraitsHappyToken}} |LovePortraitsNeutral={{LovePortraitsNeutralToken}}}}\"/pause 400/emote Alex 40/pause 600/question fork1 \"{{i18n:PPAF.Alex.Events.Aro.10Heart.7}}\"/pause 400/fork rejectJosh/speak Alex \"{{i18n:PPAF.Alex.Events.Aro.10Heart.8 |LovePortraitsHappy={{LovePortraitsHappyToken}}}}\"/emote Alex 32/pause 800/animate Alex false false 400 40 41 41 40 41 41 40 41 41 40 41 41 40/pause 800/playSound eat/pause 800/playSound eat/pause 800/playSound eat/pause 800/playSound gulp/pause 400/speak Alex \"{{i18n:PPAF.Alex.Events.Aro.10Heart.9}}\"/eyes 1 -4000/animate Alex false false 400 40 41 41 40 41 41 40/pause 1000/specificTemporarySprite alexDiningDog/playSound dogWhining/pause 1000/globalFade/viewport -1000 -1000/pause 6000/end dialogue Alex \"{{i18n:PPAF.Alex.Events.Aro.10Heart.10 |LovePortraitsNeutral={{LovePortraitsNeutralToken}}}}\"",
                "rejectJosh": "pause 100/playMusic none/shake Alex 2000/emote Alex 28/speak Alex \"{{i18n:PPAF.Alex.Events.Aro.10Heart.Reject.0}}\"/pause 2000/speak Alex \"{{i18n:PPAF.Alex.Events.Aro.10Heart.Reject.1}}\"/viewport move 1 1 5000/globalFade/viewport -1000 -1000/pause 4000/end dialogue Alex \"{{i18n:PPAF.Alex.Events.Aro.10Heart.Reject.2}}\""
            }
        },
        {
            "Action": "EditData",
            "Target": "Data/Events/Saloon",
            "Fields": {
                "3917590/n saloonSportsRoom/O Alex": {
                    37: "speak Alex \"{{i18n:PPAF.Alex.Events.Aro.14Heart.37}}\""
                }
            }
        },
        //COMPATIBILITY: PLATONIC RELATIONSHIPS
        //This section prevents the dating-flag-required version of the vanilla 10 heart event added by Platonic Relationships from triggering. Thanks to Cherry for providing the event codes!
        {
            "LogName": "Revert Platonic Relationships event flag edits for Alex",
            "Action": "EditData",
            "Target": "Data/TriggerActions",
            "TargetField": [ "Mail_Alex_10heart" ],
            "Entries": {
                "Condition": "PLAYER_FRIENDSHIP_POINTS Current Alex 2502"
            },
            "When": {
                "HasMod |contains=Cherry.PlatonicRelationships": true
            }
        },
        //COMPATIBILITY: SPOUSES REACT TO PLAYER 'DEATH' v1.1.0
        //Lines in this section are based on the original lines written by CasualInvidia, used and edited with permission. (Thank you, CasualInvidia!)
        {
            "LogName": "Enable Alex's Spouses React to Player 'Death' content",
            "Action": "Include",
            "FromFile": "assets/NPCs/Alex/Alex_SpousesReact.json",
            "When": {
                "HasMod |contains=CasualInvidia.SpousesReactToDeath": true
            }
        },
        //
        //COMPATIBILITY IMMERSIVE SPOUSES - IMPROVED SPOUSE SCHEDULES v0.5-beta
        //Lines in this section are based on the original lines written by yeet (Someguy363), used and edited with permission. (Thank you, yeet!)
        {
            "Action": "EditData",
            "Target": "Strings/schedules/Alex",
            "Entries": {
                "marriage_beach": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_beach}}",
                "marriage_beach2": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_beach2 |LovePortraitsHappy={{LovePortraitsHappyToken}}}}",
                "marriage_bus4": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_bus4 |LovePortraitsHappy={{LovePortraitsHappyToken}}}}",
                "marriage_bus8": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_bus8.{{Random:1,2,3,4}}}}",
                "marriage_dog3": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_dog3 |LovePortraitsNeutral={{LovePortraitsNeutralToken}}}}",
                "marriage_josh3": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_josh3.{{Random:1,2,3}}}}",
                "marriage_josh5": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_josh5.{{Random:1,2,3}}}}",
                "marriage_sum7": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_sum7}}",
                "marriage_town5": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_town5 |LovePortraitsHappy={{LovePortraitsHappyToken}}}}",
                "marriage_town6": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_town6.{{Random:1,2,3}} |LovePortraitsNeutral={{LovePortraitsNeutralToken}}}}",
                "marriage_town8": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_town8.{{Random:1,2}}}}",
                "marriage_tree3": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_tree3 |LovePortraitsHappy={{LovePortraitsHappyToken}}}}",
                "marriage_tree4": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_tree4.{{Random:1,2}} |LovePortraitsNeutral={{LovePortraitsNeutralToken}} |PlatonicHousemate={{PlatonicHousemateToken}}}}",
                "marriage_tree5": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_tree5 |LovePortraitsNeutral={{LovePortraitsNeutralToken}}}}",
                "marriage_doctorafter": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_doctorafter}}",
                "marriage_nm": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_nm}}",
                "marriage_town3": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_town3 |LovePortraitsNeutral={{LovePortraitsNeutralToken}}}}",
                "marriage_tree": "{{i18n:PPAF.Alex.DialogueEdits.Aro.ISS.marriage_tree.{{Random:1,2,3}} |LovePortraitsNeutral={{LovePortraitsNeutralToken}}}}"
            },
            "When": {
                "HasMod |contains=iss.immersivespouses": true
            }
        },
        //COMPATIBILITY: PLEASE REMEMBER MY MARRIAGE v1.0.1
        //Lines in this section are based on the original lines written by nraittanna, used and edited with permission. (Thank you, nraittanna!)
        {
            "LogName": "Enable Alex's Please Remember My Marriage content",
            "Action": "Include",
            "FromFile": "assets/NPCs/Alex/Alex_RememberMyMarriage.json",
            "When": {
                "HasMod |contains=nraittanna.RememberMyMarriage": true
            }
        }
    ]
}
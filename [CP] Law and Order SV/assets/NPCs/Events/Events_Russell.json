{
    "Changes": [

        //R 2H event (linus questioning)
        {
            "Action": "EditData",
            "Target": "Data/Events/sdvhead.LawAndOrderSV_Jail",
            "Entries": {
                "239791001/t 800 2400/f {{Russell}} 500": "MarlonsTheme/7 18/farmer -1000 -1000 0 {{Shannon}} -1000 -1000 0 Linus -1000 1000 0 {{Russell}} -1000 -1000 2/skippable/addConversationTopic {{ModId}}_LinusQuestioning 3/pause 1000/playSound doorOpen/warp {{Shannon}} 10 24/pause 1000/advancedMove {{Shannon}} false 0 -2 4 200 2 100/pause 1500/playSound doorCreak/warp Linus 10 24/pause 300/playSound doorClose/pause 1000/textAboveHead {{Shannon}} \"{{i18n:Events.239791001.001}}\"/pause 1000/advancedMove {{Shannon}} false -3 0 0 -4 4 100/pause 2500/advancedMove Linus false 0 -2 3 500 -3 0 3 100 4 100 0 -3 4 100 3 500/pause 2000/doAction 7 17/pause 1500/advancedMove {{Shannon}} false 0 -7 4 200 1 800 3 800 -4 0 4 100/pause 3400/advancedMove Linus false 0 -8 4 100 3 1500 -2 0 0 1 -1 0 3 100/pause 2000/playSound doorOpen/pause 200/warp farmer 10 24/pause 300/playSound doorClose/pause 500/emote farmer 8/advancedMove farmer false 0 -2 3 200 -4 0 4 600 0 -4 1 100/pause 1000/viewport move 0 -1 4000/ doAction 3 10/pause 1000/advancedMove {{Shannon}} false -1 0 3 100 1 100/pause 1500/warp {{Russell}} 7 5/pause 500/advancedMove {{Russell}} false 0 1 1 0 0 3 3 100/pause 1500/speak Linus \"{{i18n:Events.239791001.001b}}\"/pause 300/speak {{Shannon}} \"{{i18n:Events.239791001.001c}}\"/pause 300/jump Linus/pause 500/speak Linus \"{{i18n:Events.239791001.001d}}\"/pause 500/advancedMove {{Russell}} false 0 2 3 100/pause 1000/speak {{Russell}} \"{{i18n:Events.239791001.002}}\"/pause 300/faceDirection Linus 1/pause 200/speak {{Shannon}} \"{{i18n:Events.239791001.003}}\"/pause 300/speak {{Russell}} \"{{i18n:Events.239791001.004}}\"/pause 300/emote {{Russell}} 28/pause 1000/speak {{Russell}} \"{{i18n:Events.239791001.005}}\"/pause 300/speak Linus \"{{i18n:Events.239791001.006}}\"/pause 300/advancedMove Linus false 1 0 0 -1 2 0 0 6/pause 1500/globalFade/viewport 1000 1000/pause 1000/warp Linus 1000 1000/playSound doorClose/pause 1000/viewport 7 13/pause 200/emote farmer 40/faceDirection {{Russell}} 2/pause 500/speak {{Russell}} \"{{i18n:Events.239791001.007}}\"/pause 300/advancedMove {{Shannon}} false 3 0 1 100/pause 500/faceDirection {{Russell}} 3/pause 200/advancedMove farmer false 1 0 4 200 0 -8 -1 0 2 100/pause 5000/speak {{Russell}} \"{{i18n:Events.239791001.008}}\"/pause 300/speak {{Russell}} \"{{i18n:Events.239791001.009}}\"/pause 300/textAboveHead {{Russell}} \"{{i18n:Events.239791001.010}}\"/textAboveHead {{Shannon}} \"{{i18n:Events.239791001.010}}\"/pause 1500/speak {{Russell}} \"{{i18n:Events.239791001.011}}\"/pause 300/speak {{Russell}} \"{{i18n:Events.239791001.012}}\"/pause 300/emote {{Shannon}} 32/pause 300/speak {{Russell}} \"{{i18n:Events.239791001.013}}\"/pause 300/quickQuestion #{{i18n:Events.239791001.qq1}}#{{i18n:Events.239791001.qq2}}#{{i18n:Events.239791001.qq3}}(break)speak {{Russell}} \"{{i18n:Events.239791001.qq1r}}\"(break)speak {{Russell}} \"{{i18n:Events.239791001.qq2r}}\"(break)speak {{Russell}} \"{{i18n:Events.239791001.qq3r}}\"/pause 2000/textAboveHead {{Shannon}} \"{{i18n:Events.239791001.014}}\"/advancedMove {{Shannon}} false 2 0 1 200 0 11 2 100/pause 1500/textAboveHead {{Russell}} \"{{i18n:Events.239791001.015}}\"/advancedMove {{Russell}} false 0 -5 -1 0 0 -1 4 100/pause 1500/advancedMove farmer false 1 0 1 100 4 500 2 500/pause 1000/globalFade/viewport -1000 -1000/end",
            }
        },


        {
            "Action": "EditData",
            "Target": "Data/Events/Saloon",
            "Entries": {
                 "239791002/t 1700 2400/f {{Russell}} 1000/e 239791001": "Saloon1/11 20/farmer 14 24 0 {{Russell}} 2 22 3 Willy 17 22 2 Shane 21 17 2 Pam 7 18 1 Gus 10 18 2 Emily 14 17 0 Clint 19 23 3 Lewis 8 22 1 Marnie 9 22 3/skippable/showFrame {{Russell}} 17/playSound doorClose/animate Shane false true 200 20 20 20 20 20 20 20 20 20 20 21 22 23 24 24 24 24 23 22 21 20 20 20 20/pause 300/textAboveHead Gus \"{{i18n:Events.239791002.001}}\"/move farmer 0 -3 0/pause 1000/textAboveHead {{Russell}} \"{{i18n:Events.239791002.002}}\"/pause 300/move farmer 0 0 3/pause 300/emote farmer 8/move farmer -4 0 3/move farmer 0 -1 0/move farmer -3 0 3/move farmer 0 2 2 Emily -2 0 0/move farmer -3 0 3/pause 300/speak {{Russell}} \"{{i18n:Events.239791002.003}}\"/emote farmer 32/pause 300/textAboveHead {{Russell}} \"{{i18n:Events.239791002.004}}\"/pause 1000/textAboveHead Emily \"{{i18n:Events.239791002.005}}\"/pause 500/move Emily 1 0 0/pause 300/move Emily -8 0 3/move Emily 0 6 2/move Emily -2 0 0/pause 200/speak Emily \"{{i18n:Events.239791002.006}}\"/pause 200/showFrame {{Russell}} 21/move Emily 2 0 1/textAboveHead {{Russell}} \"{{i18n:Events.239791002.007}}\"/beginSimultaneousCommand/farmerEat 350/move Emily 0 -6 0/endSimultaneousCommand/move farmer 0 0 3 Emily 9 0 0/speak {{Russell}} \"{{i18n:Events.239791002.008}}\"/pause 300/stopAnimation farmer/emote farmer 32/speak {{Russell}} \"{{i18n:Events.239791002.009}}\"/pause 300/emote farmer 40/pause 500/speak {{Russell}} \"{{i18n:Events.239791002.010}}\"/pause 300/speak {{Russell}} \"{{i18n:Events.239791002.011}}\"/pause 300/speak {{Russell}} \"{{i18n:Events.239791002.011b}}\"/pause 300/emote farmer 28/pause 500/speak {{Russell}} \"{{i18n:Events.239791002.012}}\"/pause 300/speak {{Russell}} \"{{i18n:Events.239791002.013}}\"/pause 300/speak {{Russell}} \"{{i18n:Events.239791002.014}}\"/pause 300/speak {{Russell}} \"{{i18n:Events.239791002.015}}\"/pause 300/emote farmer 28/pause 500/speak {{Russell}} \"{{i18n:Events.239791002.016}}\"/pause 300/speak {{Russell}} \"{{i18n:Events.239791002.017}}\"/pause 300/jump Lewis 6/pause 300/speak {{Russell}} \"{{i18n:Events.239791002.018}}\"/pause 300/emote farmer 32/pause 500/globalFade/viewport -1000 -1000/end",
            }
        },

        //R 6H event (shrine of Yoba)
        {
            "Action": "EditData",
            "Target": "Data/Events/SeedShop",
            "Entries": {
                "239791003/t 900 1800/f {{Russell}} 1500/d Mon Tue Wed Thu Fri Sat/e 239791002": "junimoStarSong/37 19/farmer 30 20 2 {{Russell}} 35 19 0 George 36 22 0 Jodi 38 20 0/skippable/addConversationTopic {{ModId}}_RussellShrine 3/move George 0 1 3/move George -2 0 0/move George 0 -2 3/move Jodi -3 0 2 George -3 0 3/move Jodi 0 1 3 George -1 0 3/move Jodi -6 0 3 George -6 0 3/move farmer 0 1 1 Jodi -1 0 3 George -1 0 3/globalFade 0.009/viewport -1000 -1000/warp George 1000 1000/warp Jodi 1001 1000/viewport 37 19/move farmer 5 0 0/move farmer 0 -1 1/ move farmer 1 0 0/pause 1000/move {{Russell}} 0 0 1/pause 500/speak {{Russell}} \"{{i18n:Events.239791003.001}}\"/pause 500/move {{Russell}} 0 0 0/pause 1500/move {{Russell}} 0 0 1/pause 700/speak {{Russell}} \"{{i18n:Events.239791003.002}}\"/pause 500/quickQuestion #{{i18n:Events.239791003.qq1}}#{{i18n:Events.239791003.qq2}}#{{i18n:Events.239791003.qq3}}(break)speak {{Russell}} \"{{i18n:Events.239791003.qq1r}}\"(break)speak {{Russell}} \"{{i18n:Events.239791003.qq2r}}\"(break)speak {{Russell}} \"{{i18n:Events.239791003.qq3r}}\"/pause 1000/move {{Russell}} 0 0 0/pause 1500/speak {{Russell}} \"{{i18n:Events.239791003.003}}\"/pause 500/emote farmer 32/pause 500/ambientLight 85 85 85/pause 200/ambientLight 75 75 75/pause 200/ambientLight 65 65 65/pause 200/ambientLight 55 55 55/pause 200/ambientLight 45 45 45/pause 200/ambientLight 35 35 35/pause 200/ambientLight 25 25 25/pause 200/ambientLight 15 15 15/pause 200/ambientLight 0 0 0/pause 2500/globalFade 0.005/viewport -1000 -1000/end",
            }
        },

        //R 8H event (surgery) - triggered after receiving mail
        {
            "Action": "EditData",
            "Target": "Data/TriggerActions",
            "Entries": {
                "{{Russell}}_Mail_8heart": {
                    "Id": "{{Russell}}_Mail_8heart",
                    "Trigger": "DayEnding",
                    "Condition": "PLAYER_FRIENDSHIP_POINTS Current {{Russell}} 2000",
                    "Actions": [
                        "AddMail Current {{Russell}}Clinic",
                    ]
                }
            },
            "When": {
                "HasSeenEvent": "239791003"
            },
        },
        {
            // create the 8H mail item
            "Action": "EditData",
            "Target": "Data/Mail",
            "Entries": {
                "{{Russell}}Clinic": "{{i18n:Events.239791004.Mail1}}",
            },
        },
        {
            //8H event
            "Action": "EditData",
            "Target": "Data/Events/Hospital",
            "Entries": {
                "239791004/t 1100 1500/n {{Russell}}Clinic": "Cloth/-1000 -1000/farmer 10 19 0 {{Russell}} 11 15 3 Maru 7 10 0 Harvey 15 9 2 {{Shannon}} 1000 1000 0/broadcastEvent/skippable/addConversationTopic {{ModId}}_RussellProsthetic 7/changeSprite Maru Hospital/changePortrait Maru Hospital/showFrame {{Russell}} 22/viewport 10 15/pause 400/playSound doorClose/pause 2000/move {{Russell}} -1 0 2/emote {{Russell}} 16/speak {{Russell}} \"{{i18n:Events.239791004.001}}\"/pause 500/move farmer 0 -2 0/emote farmer 32/move Maru 3 0 2/move Maru 0 2 2/doAction 10 13/pause 200/move Maru 0 1 2/pause 200/speak Maru \"{{i18n:Events.239791004.002}}\"/pause 500/emote {{Russell}} 28/pause 300/move Harvey 0 -2 3 Maru 0 -2 0 {{Russell}} 0 -2 0 farmer 0 -2 0/move Harvey -4 0 3 Maru 0 -4 3 {{Russell}} 0 -4 0 farmer 0 -4 0/move Maru -1 0 2 Harvey -1 0 2 {{Russell}} -1 0 0 farmer 0 -2 0/fade/viewport 10 11/pause 500/speak Harvey \"{{i18n:Events.239791004.003}}\"/pause 500/speak {{Russell}} \"{{i18n:Events.239791004.004}}\"/pause 500/speak Harvey \"{{i18n:Events.239791004.005}}\"/pause 500/speak Maru \"{{i18n:Events.239791004.006}}\"/pause 500/move Maru 0 1 2/pause 300/playSound coin/pause 300/move Maru 0 -1 2/pause 500/showFrame {{Russell}} 18/pause 200/move farmer 0 0 3/pause 200/emote {{Russell}} 8/pause 200/speak {{Russell}} \"{{i18n:Events.239791004.007}}\"/pause 500/speak Maru \"{{i18n:Events.239791004.008}}\"/pause 500/move {{Russell}} 0 0 0/pause 800/emote {{Russell}} 40/pause 1000/speak {{Russell}} \"{{i18n:Events.239791004.009}}\"/pause 500/emote Maru 16 true/emote Harvey 16 true/emote farmer 16/pause 500/quickQuestion #{{i18n:Events.239791004.qq1}}#{{i18n:Events.239791004.qq2}}#{{i18n:Events.239791004.qq3}}(break)move {{Russell}} 0 0 1\\speak {{Russell}} \"{{i18n:Events.239791004.qq1r}}\"(break)move {{Russell}} 0 0 1\\speak {{Russell}} \"{{i18n:Events.239791004.qq2r}}\"(break)move {{Russell}} 0 0 1\\speak {{Russell}} \"{{i18n:Events.239791004.qq3r}}\"/pause 100/globalFade/viewport -1000 -1000/pause 500/move {{Russell}} 0 0 2/move Maru 0 0 3/move farmer 0 0 1/warp {{Russell}} 20 4/warp Maru 22 5/warp Harvey 9 7/warp farmer 19 5/changePortrait {{Russell}} ProstheticBeach/changeSprite {{Russell}} ProstheticBeach/showFrame {{Russell}} 23/positionOffset {{Russell}} 0 14/message \"{{i18n:Events.239791004.011}}\"/pause 500/fade/viewport 20 8/pause 1000/emote {{Russell}} 24/pause 1500/emote {{Russell}} 24/pause 1500/playSound doorOpen/warp {{Shannon}} 10 19/playSound doorClose/speed {{Shannon}} 5/advancedMove {{Shannon}} false 0 -12 6 0 0 1 4 0 0 -2/pause 2000/move Harvey 0 0 1/pause 3000/move {{Shannon}} 0 0 0/emote {{Shannon}} 16/pause 1000/speak {{Shannon}} \"{{i18n:Events.239791004.012}}\"/pause 500/showFrame {{Russell}} 0/speak {{Russell}} \"{{i18n:Events.239791004.013}}\"/pause 500/speak {{Shannon}} \"{{i18n:Events.239791004.014}}\"/pause 500/speak {{Russell}} \"{{i18n:Events.239791004.015}}\"/pause 500/move farmer -1 0 1/speed {{Russell}} 1/advancedMove {{Russell}} false -1 0/pause 1000/showFrame {{Russell}} 0/jump {{Shannon}}/speak {{Shannon}} \"{{i18n:Events.239791004.016}}\"/pause 500/emote {{Russell}} 60/textAboveHead {{Russell}} \"{{i18n:Events.239791004.017}}\"/animate farmer false true 100 102 103/pause 1000/globalFade/viewport -1000 -1000/pause 600/stopAnimation farmer/changePortrait {{Russell}} Prosthetic/changeSprite {{Russell}} Prosthetic/end",
            }
        },
        
        //R sprite and portrait update to reflect the new permanent change
        {
            "Action": "EditImage",
            "Target": "Portraits/{{Russell}}",
            "FromFile": "assets/NPCs/Portraits_{{cfgPortraits}}/Russell_Prosthetic_Portrait.png",
            "When": {
                //has seen surgery event
                "HasSeenEvent": "239791004"
            },
            "Update": "OnLocationChange"
        },
        {
            "Action": "EditImage",
            "Target": "Characters/{{Russell}}",
            "FromFile": "assets/NPCs/Sprites/Russell_Prosthetic.png",
            "When": {
                //has seen surgery event
                "HasSeenEvent": "239791004"
            },
            "Update": "OnLocationChange"
        },
        {
            "Action": "EditImage",
            "Target": "Portraits/{{Russell}}_Beach",
            "FromFile": "assets/NPCs/Portraits_{{cfgPortraits}}/Russell_Prosthetic_Beach_Portrait.png",
            "When": {
                //has seen surgery event
                "HasSeenEvent": "239791004"
            },
            "Update": "OnLocationChange"
        },
        {
            "Action": "EditImage",
            "Target": "Characters/{{Russell}}_Beach",
            "FromFile": "assets/NPCs/Sprites/Russell_Beach_Prosthetic.png",
            "When": {
                //has seen surgery event
                "HasSeenEvent": "239791004"
            },
            "Update": "OnLocationChange"
        },

        //R 10H event (mountain lake)
        {
            "Action": "EditData",
            "Target": "Data/Events/Mountain",
            "Entries": {
                "239791005/t 900 1700/f {{Russell}} 2500/e 239791004": "continue/54 31/farmer 48 34 1 {{Russell}} 58 34 1/skippable/showFrame {{Russell}} 17/hideShadow {{Russell}} true/positionOffset {{Russell}} -24 -20/advancedMove farmer false 8 0 1 100/pause 2200/viewport move 1 0 3000/pause 3200/speak {{Russell}} \"{{i18n:Events.239791005.001}}\"/pause 800/emote farmer 32 true/pause 700/advancedMove farmer false 0 -2 2 0 1 100/pause 2700/showFrame farmer 117 false/jump farmer 0/positionOffset farmer -4 7/pause 10/positionOffset farmer -4 7/pause 10/positionOffset farmer -4 7/pause 10/positionOffset farmer -4 7/pause 10/positionOffset farmer -4 7/pause 2500/speak {{Russell}} \"{{i18n:Events.239791005.002}}\"/pause 2500/speak {{Russell}} \"{{i18n:Events.239791005.003}}\"/pause 1500/emote farmer 32 true/pause 3500/speak {{Russell}} \"{{i18n:Events.239791005.004}}\"/pause 5000/speak {{Russell}} \"{{i18n:Events.239791005.005}}\"/pause 1500/emote farmer 20 true/pause 2000/emote {{Russell}} 20 true/pause 2000/jump farmer 0/positionOffset farmer 0 -2/pause 20/positionOffset farmer 0 8/pause 400/jump farmer 0/positionOffset farmer 0 -2/pause 20/positionOffset farmer 0 8/pause 400/jump farmer 0/positionOffset farmer 0 -2/pause 20/positionOffset farmer 0 8/pause 400/jump farmer 0/positionOffset farmer 0 -2/pause 20/positionOffset farmer 0 8/pause 7000/globalFade/viewport -1000 -1000/end"
            }
        },

        //post event dialogue for vanilla characters
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/Linus",
            "Entries": {
                "{{ModId}}_LinusQuestioning": "{{i18n:LinusQuestioning_Linus}}"
            }
        },
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/Maru",
            "Entries": {
                "{{ModId}}_RussellProsthetic": "{{i18n:RussellProsthetic_Maru}}"
            }
        },
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/Harvey",
            "Entries": {
                "{{ModId}}_RussellProsthetic": "{{i18n:RussellProsthetic_Harvey}}"
            }
        },
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/Vincent",
            "Entries": {
                "{{ModId}}_RussellProsthetic": "{{i18n:RussellProsthetic_Vincent}}"
            }
        },
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/Alex",
            "Entries": {
                "{{ModId}}_RussellProsthetic": "{{i18n:RussellProsthetic_Alex}}"
            }
        },
        {
            "Action": "EditData",
            "Target": "Characters/Dialogue/Pierre",
            "Entries": {
                "{{ModId}}_RussellProsthetic": "{{i18n:RussellProsthetic_Pierre}}",
                "{{ModId}}_RussellShrine": "{{i18n:RussellShrine_Pierre}}",
            }
        },
    ]
}